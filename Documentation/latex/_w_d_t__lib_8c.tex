\doxysection{Documents/\+Keil/\+DQPSK\+\_\+plus\+\_\+\+Freq/\+Source/\+WDT\+\_\+lib.c File Reference}
\hypertarget{_w_d_t__lib_8c}{}\label{_w_d_t__lib_8c}\index{Documents/Keil/DQPSK\_plus\_Freq/Source/WDT\_lib.c@{Documents/Keil/DQPSK\_plus\_Freq/Source/WDT\_lib.c}}


Функции для работы со сторожевым таймером IWDT.  


{\ttfamily \#include \"{}WDT\+\_\+lib.\+h\"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{_w_d_t__lib_8c_ae7ef85bb830cb7bc13f93df631a35758}\label{_w_d_t__lib_8c_ae7ef85bb830cb7bc13f93df631a35758} 
void {\bfseries IWDT\+\_\+\+Restart\+\_\+note} ()
\begin{DoxyCompactList}\small\item\em Отправка сообщения по USART о перезагрузке системы, вызванной IWDT таймером \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_w_d_t__lib_8c_a8b37ffedd7ce2b46299b64f5c1919238}{IWDT\+\_\+init}} ()
\item 
void \mbox{\hyperlink{_w_d_t__lib_8c_a60778fdce755bfb3b9d709dd24e8f76f}{IWDT\+\_\+\+Delay}} (uint32\+\_\+t ms)
\item 
void \mbox{\hyperlink{_w_d_t__lib_8c_a76ff7fd1bb597a54928c3ceab8c59e45}{IWDT\+\_\+\+Update}} ()
\item 
void \mbox{\hyperlink{_w_d_t__lib_8c_a05bf696c2b52a3e4ec2549e8bdbde2bd}{Fatal\+\_\+error}} ()
\begin{DoxyCompactList}\small\item\em Принудительная остановка работы программы. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
volatile uint32\+\_\+t \mbox{\hyperlink{_w_d_t__lib_8c_a556f67f45f371839f1c08be84dd9af50}{Timing\+Delay}} = 0
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Функции для работы со сторожевым таймером IWDT. 

\begin{DoxyVersion}{Version}
V1.\+0.\+0
\end{DoxyVersion}
\begin{DoxyDate}{Date}
02-\/10-\/2023 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\Hypertarget{_w_d_t__lib_8c_a05bf696c2b52a3e4ec2549e8bdbde2bd}\label{_w_d_t__lib_8c_a05bf696c2b52a3e4ec2549e8bdbde2bd} 
\index{WDT\_lib.c@{WDT\_lib.c}!Fatal\_error@{Fatal\_error}}
\index{Fatal\_error@{Fatal\_error}!WDT\_lib.c@{WDT\_lib.c}}
\doxysubsubsection{\texorpdfstring{Fatal\_error()}{Fatal\_error()}}
{\footnotesize\ttfamily void Fatal\+\_\+error (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Принудительная остановка работы программы. 

Устройство сигнализирует о принудительной остановке следующим образом\+:
\begin{DoxyItemize}
\item Включение светодиодов LED2, LED3
\item Заполнение LCD экрана красным цветом
\item Отправка сообщения SYSTEM FATAL ERROR по USART
\item Установка High уровня на ЦАП 
\end{DoxyItemize}\Hypertarget{_w_d_t__lib_8c_a60778fdce755bfb3b9d709dd24e8f76f}\label{_w_d_t__lib_8c_a60778fdce755bfb3b9d709dd24e8f76f} 
\index{WDT\_lib.c@{WDT\_lib.c}!IWDT\_Delay@{IWDT\_Delay}}
\index{IWDT\_Delay@{IWDT\_Delay}!WDT\_lib.c@{WDT\_lib.c}}
\doxysubsubsection{\texorpdfstring{IWDT\_Delay()}{IWDT\_Delay()}}
{\footnotesize\ttfamily void IWDT\+\_\+\+Delay (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{ms }\end{DoxyParamCaption})}

Задержка между обновлениями сторожевого таймера \Hypertarget{_w_d_t__lib_8c_a8b37ffedd7ce2b46299b64f5c1919238}\label{_w_d_t__lib_8c_a8b37ffedd7ce2b46299b64f5c1919238} 
\index{WDT\_lib.c@{WDT\_lib.c}!IWDT\_init@{IWDT\_init}}
\index{IWDT\_init@{IWDT\_init}!WDT\_lib.c@{WDT\_lib.c}}
\doxysubsubsection{\texorpdfstring{IWDT\_init()}{IWDT\_init()}}
{\footnotesize\ttfamily void IWDT\+\_\+init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Инициализация сторожевого таймера IWDT

При отсутствии обновления в течении \texorpdfstring{$\sim$}{\string~}1000 ms инициируется перезагрузка системы \Hypertarget{_w_d_t__lib_8c_a76ff7fd1bb597a54928c3ceab8c59e45}\label{_w_d_t__lib_8c_a76ff7fd1bb597a54928c3ceab8c59e45} 
\index{WDT\_lib.c@{WDT\_lib.c}!IWDT\_Update@{IWDT\_Update}}
\index{IWDT\_Update@{IWDT\_Update}!WDT\_lib.c@{WDT\_lib.c}}
\doxysubsubsection{\texorpdfstring{IWDT\_Update()}{IWDT\_Update()}}
{\footnotesize\ttfamily void IWDT\+\_\+\+Update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Обновление сторожевого таймера через каждые 300 ms 

\doxysubsection{Variable Documentation}
\Hypertarget{_w_d_t__lib_8c_a556f67f45f371839f1c08be84dd9af50}\label{_w_d_t__lib_8c_a556f67f45f371839f1c08be84dd9af50} 
\index{WDT\_lib.c@{WDT\_lib.c}!TimingDelay@{TimingDelay}}
\index{TimingDelay@{TimingDelay}!WDT\_lib.c@{WDT\_lib.c}}
\doxysubsubsection{\texorpdfstring{TimingDelay}{TimingDelay}}
{\footnotesize\ttfamily volatile uint32\+\_\+t Timing\+Delay = 0}

extern переменная, используется для задержки по сторожевому таймеру.

Timing\+Delay уменьшается системным таймером в Sys\+Tick\+\_\+\+Handler() 